#include<stdio.h>

int main(){
	
	char eleccion_operacion,eleccion_productos,deseo_compra,deseo_operacion;
	int contador_palmeras=0,contador_conchas=0,contador_napolitanas=0,contador_cocacolas=0,contador_aguas=0;
	float precio=0.0,pago_introducido,pago_total=0.0,vuelta=0.0;
	
	do{
	printf("\nBienvenido\nSeleccione la operacion que desee realizar:\n");
	printf("'C' para comprar\n'P' para pagar\n'S' para ver su carro actual\n");
	fflush(stdin);
	scanf("%c",&eleccion_operacion);
	
	if ((eleccion_operacion == 'C') || (eleccion_operacion == 'c')){
		do{
			printf("\nHa seleccionado comprar. Seleccione el producto deseado:\n");
			printf("'P' para palmera 1€\n'C' para concha 0.5€\n'N' para napolitana 1€\n'O' para coca cola 0.75€\n'A' para agua 0.5€\n");
			fflush(stdin);
			scanf("%c",&eleccion_productos);
						
			if ((eleccion_productos == 'P') || (eleccion_productos == 'p')){
				precio+=1;
				contador_palmeras++;
			}
			else if((eleccion_productos == 'C') || (eleccion_productos == 'c')){
				precio+=0.5;
				contador_conchas++;
			}
			else if((eleccion_productos == 'N') || (eleccion_productos == 'n')){
				precio+=1;
				contador_napolitanas++;
			}
			else if((eleccion_productos == 'O') || (eleccion_productos == 'o')){
				precio+=0.75;
				contador_cocacolas++;
			}
			else if((eleccion_productos == 'A') || (eleccion_productos == 'a')){
				precio+=0.5;
				contador_aguas++;
			}
			else{
				printf("Esa letra no corresponde a ningun producto\n");
			}
			fflush(stdin);
			printf("\nDesea comprar algo mas?\n'S' para si\n'N' para no\n");
			scanf("%c",&deseo_compra);
			if((deseo_compra == 'N')||(deseo_compra == 'n')){
				break;
			}
		}while ((deseo_compra != 'N') || (deseo_compra != 'n'));
	}
	
	if((eleccion_operacion == 'S')||(eleccion_operacion == 's')){
		printf("Su carro actual es:\n-Palmeras:%i\n-Conchas:%i\n-Napolitanas:%i\n-Coca colas:%i\n-Aguas:%i\n",contador_palmeras,contador_conchas,contador_napolitanas,contador_cocacolas,contador_aguas);
	}
	
	if((eleccion_operacion == 'P') || (eleccion_operacion == 'p')){
		printf("\n\nCantidad a introducir:%.2f\n",precio);
		while(pago_total<precio){
			printf("Introduzca el dinero\n");
			fflush(stdin);
			scanf("%f",&pago_introducido);
			pago_total+=pago_introducido;
		}
		vuelta=pago_total-precio;
		printf("\nSu vuelta es: %.2f\n",vuelta);
	}
	printf("\nDesea realizar alguna otra operacion?\n'S' para si\n'N para no'\n");
	fflush(stdin);
	scanf("%c",&deseo_operacion);
	if((deseo_operacion == 'N')||(deseo_operacion == 'n')){
		break;
	}
	}while((deseo_operacion != 'N') || (deseo_operacion != 'n'));
	printf("\nHasta la proxima!\n");
}
